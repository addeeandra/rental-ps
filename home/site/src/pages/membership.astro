---
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Button from "@/components/fundations/elements/Button.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Icons
import Plus from "@/components/fundations/icons/Plus.astro";
import Minus from "@/components/fundations/icons/Minus.astro";
import Check from "@/components/fundations/icons/Check.astro";
// Sections
import Faq from "@/components/global/Faq.astro";
import Testimonials from "@/components/testimonials/Testimonial1.astro";

// Array with pricing plans
const pricingPlans = [
  {
    name: "Solo",
    price: "$1,490",
    description:
      "For creators who like to work alone — just you and the machine.",
    buttonVariant: "muted",
    features: [
      { text: "Access to all sound + design tools", available: true },
      {
        text: "Perfect for independent musicians and tinkerers",
        available: true,
      },
      { text: "Basic patching + workflow guides", available: true },
      { text: "Up to 3 synced devices", available: true },
      { text: "Single user license", available: true },
      { text: "Personal-use license", available: true },
      { text: "Multi-user support", available: false },
      { text: "Team-based collaboration tools", available: false },
    ],
  },
  {
    name: "Studio",
    price: "$6,249",
    description:
      "Built for duos, trios, or small crews building something strange.",
    buttonVariant: "accent",
    textColorAccent: "text-accent-500",
    features: [
      { text: "Includes everything in Solo", available: true },
      { text: "Multi-user activation (up to 5)", available: true },
      { text: "Shared project space", available: true },
      { text: "Commercial-use license", available: true },
      { text: "No access to advanced sync modules", available: false },
      { text: "No realtime remote collaboration", available: false },
      { text: "Standard support", available: false },
    ],
  },
  {
    name: "Lab",
    price: "$15,199",
    description: "For companies, collectives, or studios building the future.",
    buttonVariant: "muted",
    features: [
      { text: "Everything in Solo + Studio", available: true },
      { text: "Unlimited device + user activation", available: true },
      { text: "Full commercial + redistribution license", available: true },
      { text: "Priority support with direct engineer access", available: true },
      { text: "System sync + API access", available: true },
    ],
  },
];
// Table
export const pricingTable = [
  {
    category: "Core Access",
    title: "Tools and content included",
    description:
      "Everything you get out of the box to start creating, patching, and experimenting.",
    features: [
      {
        label: "Sound + design tools",
        title: "Full Toolkit",
        description:
          "Access all available instruments, FX, and design modules.",
        values: ["yes", "yes", "yes"],
      },
      {
        label: "Workflow guides",
        title: "Patching + Setup Help",
        description: "Step-by-step patching and workflow documentation.",
        values: ["basic", "basic", "all guides"],
      },
      {
        label: "Sync devices",
        title: "Device Sync",
        description: "Number of devices that can be synced simultaneously.",
        values: ["up to 3", "up to 5", "unlimited"],
      },
    ],
  },
  {
    category: "Licensing",
    title: "Usage and distribution rights",
    description:
      "Defines how you can use the software — personally, commercially, or with teams.",
    features: [
      {
        label: "User license",
        title: "License Type",
        description: "Personal or commercial use and redistribution rights.",
        values: ["personal", "commercial", "commercial + redistribution"],
      },
      {
        label: "Multi-user support",
        title: "Users per License",
        description: "How many users can access with one license.",
        values: ["1 user", "up to 5 users", "unlimited"],
      },
    ],
  },
  {
    category: "Collaboration",
    title: "Work with others",
    description: "Tools to collaborate or build with others in your team.",
    features: [
      {
        label: "Team tools",
        title: "Collaboration Features",
        description: "Shared project space and real-time collaboration.",
        values: ["no", "project space only", "full collaboration"],
      },
    ],
  },
  {
    category: "Support & Access",
    title: "Support and technical help",
    description:
      "From email support to direct access to engineers for advanced issues.",
    features: [
      {
        label: "Support level",
        title: "Support Access",
        description:
          "What kind of help you get — from standard email to direct access.",
        values: ["none", "standard", "priority + engineer access"],
      },
      {
        label: "System sync + API",
        title: "Advanced Access",
        description:
          "Use system-level sync or integrate with external tools via API.",
        values: ["no", "no", "yes"],
      },
    ],
  },
];

// Features array
const features = [
  {
    title: "All sound + visual packs",
    description:
      "Download everything — from beat kits to interface mods. Yours to experiment with.",
  },
  {
    title: "Creative licensing",
    description:
      "Use what you make however you want — gigs, drops, prototypes, or chaos.",
  },
  {
    title: "Patch notes & help",
    description:
      "Get answers when you need them — from setup to strange configurations.",
  },
  {
    title: "Multi-device sync",
    description:
      "Pair multiple devices and accounts. Collaborate, jam, or test.",
  },
  {
    title: "Lifetime updates",
    description:
      "Stay in sync with all system updates, firmware, and new drops.",
  },
  {
    title: "Engineer-level support",
    description:
      "For Lab members: skip the queue and talk directly to our devs.",
  },
];
---

<BaseLayout>
  <section>
    <Wrapper variant="standard" class="py-12 lg:pt-40">
      <div class="max-w-4xl text-balance">
        <Text
          tag="h1"
          variant="displayXL"
          class="font-serif italic font-medium tracking-tight text-base-900"
        >
          Become a member today and unlock <span class="font-sans not-italic"
            >unlimited access</span
          >
        </Text>
        <Text tag="p" variant="textLG" class="max-w-md mt-2 text-base-500">
          Enroll in our membership program today at a discounted rate and enjoy
          full access to our incredible lineup of products.
        </Text>
      </div>

      <div class="mt-10 grid gap-2 lg:grid-cols-3">
        {
          pricingPlans.map((plan) => (
            <div class="flex flex-col justify-between h-full p-8 bg-base-50  ">
              <div>
                <Text
                  tag="h3"
                  variant="textXL"
                  class="font-medium text-base-900 font-serif italic"
                >
                  {plan.name}
                </Text>
                <div class="flex items-center mt-12 gap-x-4">
                  <Text
                    tag="p"
                    variant="displayLG"
                    class={`font-medium italic font-serif ${plan.textColorAccent}`}
                  >
                    {plan.price}
                  </Text>
                  <div>
                    <Text
                      tag="p"
                      variant="textXS"
                      class=" font-semibold  text-base-900"
                    >
                      One time payment
                    </Text>
                    <Text
                      tag="p"
                      variant="textXS"
                      class=" text-base-600 -mt-0.5"
                    >
                      plus local taxes
                    </Text>
                  </div>
                </div>
                <Text tag="p" variant="textSM" class="mt-2 text-base-500 ">
                  {plan.description}
                </Text>
                <ul class="mt-8 pt-8 border-t border-base-300 text-sm font-medium flex flex-col gap-2 text-base-500 ">
                  {plan.features.map((feature) => (
                    <li
                      class={`inline-flex items-start gap-3 ${!feature.available ? "opacity-60" : ""}`}
                    >
                      {feature.available ? (
                        <Plus size="sm" />
                      ) : (
                        <Minus size="sm" />
                      )}
                      {feature.text}
                    </li>
                  ))}
                </ul>
              </div>
              <Button
                size="sm"
                variant={plan.buttonVariant}
                class="w-full mt-10"
              >
                Buy to {plan.name}
              </Button>
            </div>
          ))
        }
      </div>
      <div
        class="relative z-0 w-full mt-1 border-t border-base-100 overflow-x-auto bg-white scrollbar-hide"
      >
        <div class="min-w-[768px] overflow-hidden">
          <table class="w-full text-sm">
            <thead class="text-base text-center border-b border-base-100">
              <tr>
                <th class="px-4 py-4 font-normal text-left text-base-900"
                  >Features</th
                >
                <th class="px-4 py-4 font-normal text-base-900">Solo</th>
                <th class="px-4 py-4 font-normal text-base-900">Studio</th>
                <th class="px-4 py-4 font-normal text-base-900">Lab</th>
              </tr>
            </thead>
            <tbody>
              {
                pricingTable.map(
                  ({
                    category,
                    title: catTitle,
                    description: catDesc,
                    features,
                  }) => (
                    <>
                      <tr>
                        <td
                          colspan="5"
                          class="px-4 pt-12 pb-4 text-base font-normal text-base-900 bg-base-100"
                        >
                          <Text
                            tag="h3"
                            variant="textXS"
                            class="uppercase  text-base-600"
                          >
                            {catTitle}
                          </Text>
                          <Text
                            tag="p"
                            variant="textSM"
                            class="text-base-900 max-w-xs text-balance"
                          >
                            {catDesc}
                          </Text>
                        </td>
                      </tr>
                      {features.map(({ label, title, description, values }) => (
                        <tr class="even:bg-base-50">
                          <td class="px-4 py-8 text-left align-top text-base-600">
                            <Text
                              tag="h4"
                              variant="textXS"
                              class="  text-base-500"
                            >
                              {title}
                            </Text>
                            <Text
                              tag="p"
                              variant="textSM"
                              class="text-base-900 max-w-xs text-balance mt-1"
                            >
                              {description}
                            </Text>
                          </td>
                          {values.map((value) => (
                            <td class="px-4 py-4 text-center align-middle capitalize">
                              {value === "yes" ? (
                                <Check
                                  size="sm"
                                  class="mx-auto text-accent-600"
                                />
                              ) : value === "no" ? (
                                <Minus
                                  size="sm"
                                  class="mx-auto text-base-500"
                                />
                              ) : (
                                <span class="text-base-600">{value}</span>
                              )}
                            </td>
                          ))}
                        </tr>
                      ))}
                    </>
                  )
                )
              }
            </tbody>
          </table>
        </div>
      </div>
    </Wrapper>
  </section>
  <section>
    <Wrapper variant="standard" class="py-12 lg:py-20">
      <div class="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
        <div>
          <Text
            tag="h2"
            variant="displaySM"
            class="font-serif italic text-base-900"
          >
            What’s included
          </Text>
          <Text tag="p" variant="textSM" class="text-base-500 max-w-xs mt-2">
            Every plan gives you access to a curated set of tools and assets
            designed to help you build, scale, and ship faster.
          </Text>
        </div>

        <dl
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-12 lg:col-span-2"
        >
          {
            features.map((feature) => (
              <div>
                <dt>
                  <Text
                    tag="h3"
                    variant="textBase"
                    class="font-semibold text-base-800"
                  >
                    {feature.title}
                  </Text>
                </dt>
                <dd>
                  <Text tag="p" variant="textSM" class="mt-1 text-base-500">
                    {feature.description}
                  </Text>
                </dd>
              </div>
            ))
          }
        </dl>
      </div>
    </Wrapper>
  </section>
  <Faq />
  <Testimonials />
</BaseLayout>
